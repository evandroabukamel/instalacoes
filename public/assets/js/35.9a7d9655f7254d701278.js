webpackJsonp([35],{1933:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(a(95)),o=r(a(94)),i=a(40);function r(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[o.default],data:function(){return{data:[],total:0,loading:!1,sortField:"e.nome",sortOrder:"asc",defaultSortOrder:"asc",page:1,perPage:20,text:""}},computed:(0,s.default)({},(0,i.mapGetters)(["isUsuarioMatrizFilial"])),methods:{buscar:_.debounce(function(){this.getList()},1500),onPageChange:function(t){this.page=t,this.getList()},onSort:function(t,e){this.sortField=t,this.sortOrder=e,this.getList()},getList:function(){var t=this;this.loading=!0,this.axios.get("/empresaServico/getList/page="+this.page+"&perPage="+this.perPage+"&text="+this.text+"&sortField="+this.sortField+"&sortOrder="+this.sortOrder).then(function(e){var a=e.data;t.data=[];var s=a.totalResults;a.totalResults/t.perPage>1e3&&(s=1e3*t.perPage),t.total=s,a.results.forEach(function(e){return t.data.push(e)}),t.loading=!1}).catch(function(e){t.data=[],t.total=0,t.loading=!1,t.$toast.open({message:e.data.message?e.data.message:"Falha ao carregar dados, tente novamente.",type:"is-warning",position:"is-top",duration:5e3})})}},mounted:function(){this.getList()}},t.exports=e.default},1968:function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"title is-clearfix",domProps:{innerHTML:t._s("Lista de servi&ccedil;os da empresa")}}),t._v(" "),a("div",{staticClass:"is-clearfix"},[a("b-field",{attrs:{position:"is-right",addons:!0,grouped:""}},[a("b-input",{attrs:{placeholder:"Procurar...",type:"search",icon:"magnify"},on:{input:function(e){t.buscar()}},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),a("b-table",{staticClass:"table is-fullwidth",attrs:{data:t.data,loading:t.loading,paginated:"","backend-pagination":"",total:t.total,"per-page":t.perPage,"backend-sorting":"","default-sort-direction":t.defaultSortOrder,"default-sort":[t.sortField,t.sortOrder],"mobile-cards":!0},on:{"page-change":t.onPageChange,sort:t.onSort},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"e.nome",label:"Empresa",sortable:"",visible:t.isUsuarioMatrizFilial}},[t._v("\n\t\t\t\t\t"+t._s(e.row.empresa)+"\n\t\t\t\t")]),t._v(" "),a("b-table-column",{attrs:{field:"t.descricao",label:"Tipo de serviço",sortable:""}},[t._v("\n\t\t\t\t\t"+t._s(e.row.tipoServico)+"\n\t\t\t\t")]),t._v(" "),a("b-table-column",{attrs:{field:"vs.valorCusto",label:"Valor de custo",numeric:"",sortable:""}},[t._v("\n\t\t\t\t\t"+t._s(t._f("formatMoney")(e.row.valorCusto))+"\n\t\t\t\t")]),t._v(" "),a("b-table-column",{attrs:{field:"vs.valorVenda",label:"Valor de venda",numeric:"",sortable:""}},[t._v("\n\t\t\t\t\t"+t._s(t._f("formatMoney")(e.row.valorVenda))+"\n\t\t\t\t")]),t._v(" "),a("b-table-column",{attrs:{field:"vs.tempoPrevisto",label:"Tempo previsto",numeric:"",sortable:""}},[t._v("\n\t\t\t\t\t"+t._s(e.row.tempoPrevisto)+"\n\t\t\t\t")]),t._v(" "),a("b-table-column",{attrs:{field:"vs.situacao",label:"Situação",sortable:""}},[t._v("\n\t\t\t\t\t"+t._s(t._f("capitalize")(e.row.situacao))+"\n\t\t\t\t")]),t._v(" "),a("b-table-column",{attrs:{label:"Ações",numeric:""}},[a("router-link",{staticClass:"icon",attrs:{to:{name:"cadastro-empresa-servico",params:{id:e.row.id}},title:"Editar"}},[a("b-icon",{attrs:{icon:"pencil",size:"is-medium"}})],1)],1)]}}])},[a("template",{slot:"empty"},[a("section",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),t._v(" "),a("p",[t._v("Nada foi encontrado.")])])])])],2)],1)])},staticRenderFns:[]};e.a=s},579:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(1933),o=a.n(s);for(var i in s)["default","default"].indexOf(i)<0&&function(t){a.d(e,t,function(){return s[t]})}(i);var r=a(1968),n=a(39)(o.a,r.a,!1,null,null,null);e.default=n.exports}});