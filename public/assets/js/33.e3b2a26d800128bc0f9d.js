webpackJsonp([33],{1936:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,s=e(94),n=(i=s)&&i.__esModule?i:{default:i};a.default={mixins:[n.default],data:function(){return{data:[],total:0,loading:!1,sortField:"mf.nomeFantasia",sortOrder:"asc",defaultSortOrder:"asc",page:1,perPage:20,text:""}},methods:{buscar:_.debounce(function(){this.getList()},1500),onPageChange:function(t){this.page=t,this.getList()},onSort:function(t,a){this.sortField=t,this.sortOrder=a,this.getList()},getList:function(){var t=this;this.loading=!0,this.axios.get("/matrizfilial/getList/page="+this.page+"&perPage="+this.perPage+"&text="+this.text+"&sortField="+this.sortField+"&sortOrder="+this.sortOrder).then(function(a){var e=a.data;t.data=[];var i=e.totalResults;e.totalResults/t.perPage>1e3&&(i=1e3*t.perPage),t.total=i,e.results.forEach(function(a){return t.data.push(a)}),t.loading=!1}).catch(function(a){t.data=[],t.total=0,t.loading=!1,t.$toast.open({message:a.data.message?a.data.message:"Falha ao carregar dados, tente novamente.",type:"is-warning",position:"is-top",duration:5e3})})}},mounted:function(){this.getList()}},t.exports=a.default},1988:function(t,a,e){"use strict";var i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",{staticClass:"title is-clearfix"},[t._v("Lista de matriz/filiais")]),t._v(" "),e("div",{staticClass:"is-clearfix"},[e("b-field",{attrs:{position:"is-right",addons:!0,grouped:""}},[e("b-input",{attrs:{placeholder:"Procurar...",type:"search",icon:"magnify"},on:{input:function(a){t.buscar()}},model:{value:t.text,callback:function(a){t.text=a},expression:"text"}})],1),t._v(" "),e("b-table",{staticClass:"table is-fullwidth",attrs:{data:t.data,loading:t.loading,paginated:"","backend-pagination":"",total:t.total,"per-page":t.perPage,"backend-sorting":"","default-sort-direction":t.defaultSortOrder,"default-sort":[t.sortField,t.sortOrder],"mobile-cards":!0},on:{"page-change":t.onPageChange,sort:t.onSort},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-table-column",{attrs:{field:"mf.nomeFantasia",label:"Nome fantasia",sortable:""}},[t._v("\n\t\t\t\t\t"+t._s(a.row.nomeFantasia)+"\n\t\t\t\t")]),t._v(" "),e("b-table-column",{attrs:{field:"mf.cnpj",label:"CNPJ",sortable:""}},[t._v("\n\t\t\t\t\t"+t._s(t._f("formatCpfCnpj")(a.row.cnpj))+"\n\t\t\t\t")]),t._v(" "),e("b-table-column",{attrs:{field:"e.cidade",label:"Localização",sortable:""}},[t._v("\n\t\t\t\t\t"+t._s(a.row.localizacao)+"\n\t\t\t\t")]),t._v(" "),e("b-table-column",{attrs:{field:"mf.situacao",label:"Situação",sortable:""}},[t._v("\n\t\t\t\t\t"+t._s(t._f("capitalize")(a.row.situacao))+"\n\t\t\t\t")]),t._v(" "),e("b-table-column",{attrs:{label:"Ações",numeric:""}},[e("router-link",{staticClass:"icon",attrs:{to:{name:"cadastro-matriz-filial",params:{id:a.row.id}},title:"Editar"}},[e("b-icon",{attrs:{icon:"pencil",size:"is-medium"}})],1)],1)]}}])},[e("template",{slot:"empty"},[e("section",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"section"},[e("div",{staticClass:"content has-text-grey has-text-centered"},[e("p",[e("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),t._v(" "),e("p",[t._v("Nada foi encontrado.")])])])])],2)],1)])},staticRenderFns:[]};a.a=i},582:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(1936),s=e.n(i);for(var n in i)["default","default"].indexOf(n)<0&&function(t){e.d(a,t,function(){return i[t]})}(n);var o=e(1988),r=e(39)(s.a,o.a,!1,null,null,null);a.default=r.exports}});