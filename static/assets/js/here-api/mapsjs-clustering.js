H.util.eval("Vi.prototype.Ge=ca(1,function(){return this.b});function tq(){}tq.prototype.m=function(){};tq.prototype.S=function(){};tq.prototype.j=function(){};r(\"H.clustering.ICluster.prototype.forEachEntry\",tq.prototype.j);tq.prototype.i=function(){};r(\"H.clustering.ICluster.prototype.forEachDataPoint\",tq.prototype.i);function uq(a,b,c){this.v=this.o=c;this.b=[];this.g=0;this.a=Xe(a,b,!0)}r(\"H.clustering.grid.Cluster\",uq);uq.prototype.Qc=function(a){this.c||(this.c=ic(a));this.g+=a.wt||1;this.b.push(a)};uq.prototype.Ge=function(){return this.b};uq.prototype.getPosition=function(){return this.c};uq.prototype.getPosition=uq.prototype.getPosition;uq.prototype.Db=function(){return this.g};uq.prototype.getWeight=uq.prototype.Db;uq.prototype.l=Be;uq.prototype.isCluster=uq.prototype.l;uq.prototype.f=function(){return this.o};\nuq.prototype.getMinZoom=uq.prototype.f;uq.prototype.m=function(){return this.v};uq.prototype.getMaxZoom=uq.prototype.m;uq.prototype.S=function(){return this.a};uq.prototype.getBounds=uq.prototype.S;uq.prototype.j=function(a){this.i(a)};uq.prototype.forEachEntry=uq.prototype.j;uq.prototype.i=function(a){var b=this;if(!sa(a))throw new C(this.i,0,a);this.b.forEach(function(c){a(new vq(c,b.o+1))})};uq.prototype.forEachDataPoint=uq.prototype.i;function wq(a){xc.call(this);this.a=[];var b;a?Ca(b={},xq,a):b=xq;this.g=b;xc.call(this)}v(wq,xc);var yq={cancel:sc},zq={clusters:[],noisePoints:[]},xq={projection:ih,min:0,max:22,eps:32,minWeight:2};p=wq.prototype;p.gc=function(a){this.a=a;this.b=!0};p.eb=function(a){this.a.push(a);this.b=!0};p.ug=function(a){this.a=this.a.concat(a);this.b=!0};p.Oe=function(a){this.a=this.a.filter(function(b){return b!==a});this.b=!0};p.D=function(){wq.u.D.call(this);this.a=null};p.ah=sc;function vq(a,b){this.a=a;this.b=b}r(\"H.clustering.grid.NoisePoint\",vq);vq.prototype.getPosition=function(){return ic(this.a)};vq.prototype.getPosition=vq.prototype.getPosition;vq.prototype.Db=function(){return this.a.wt};vq.prototype.getWeight=vq.prototype.Db;vq.prototype.l=Ce;vq.prototype.isCluster=vq.prototype.l;vq.prototype.f=function(){return this.b};vq.prototype.getMinZoom=vq.prototype.f;vq.prototype.getData=function(){return this.a.data};vq.prototype.getData=vq.prototype.getData;function Aq(a){wq.call(this,a)}v(Aq,wq);\nAq.prototype.Af=function(a){var b=this.g,c=b.min,d=b.max,e=[],f=[],g;if(this.b){for(g=this.a;c<=d;c++){for(var h=c,k=g,l=e,m=f,n=void 0,q=n=void 0,u=void 0,t=b.eps,y=b.projection,K=b.minWeight,V=u=void 0,ea=void 0,la=u=void 0,Bb=k.length,na=void 0,ia=Math.pow(2,h+8),Ja=void 0,Jb=void 0,Ja=void 0,Sd=[];n=k[--Bb];)if(!n.Kf){la=y.pb(n).scale(ia).floor();q=ia;V=la.x;ea=la.y;for(na=Sd.length;na--;)Ja=Sd[na],u=Ja.getPosition(),Ja.Jf||(Ja.Jf=y.pb(u).scale(ia).floor()),u=Ja.Jf,u=u.distance(la),u<q&&(q=u,\nJb=Ja);Jb&&Jb.S().Vc(n)||(Jb=new uq(y.Fc({x:(V-t)/ia,y:(ea-t)/ia}),y.Fc({x:(V+t)/ia,y:(ea+t)/ia}),h),Sd.push(Jb));Jb.Qc(n);Jb=null}for(Bb=Sd.length;Bb--;)if(Ja=Sd[Bb],n=Ja.Db(),n<K)for(Ja=Ja.Ge(),na=Ja.length;n=Ja[--na];)m.push(new vq(n,h)),n.Kf=!0;else l.push(Ja)}c=0;for(d=g.length;c<d;c++)delete g[c].Kf;this.b=!1;a({clusters:e,noisePoints:f})}return yq};function Bq(a){this.a=a;a=document.createElement(\"canvas\");var b=a.getContext(\"2d\"),c=a.width=a.height=14*this.a;b.beginPath();b.strokeStyle=\"#FFFFFF\";b.fillStyle=\"#1080DD\";b.arc(c/2,c/2,6*this.a,0,2*Math.PI,!1);b.fill();b.lineWidth=1;b.stroke();this.i=new ri(a,{size:{w:c,h:c},anchor:{x:c/2,y:c/2}});this.b={};this.c={}}r(\"H.clustering.theme.Circular\",Bq);\nfunction Cq(a,b,c){var d,e,f=document.createElement(\"canvas\"),g=f.getContext(\"2d\");b*=a.a;d=b+\":\"+c;f.width=f.height=b;(e=a.b[d])?g.putImageData(e,0,0):(e=b/2,g.beginPath(),g.strokeStyle=\"rgba(\"+c+\",0.2)\",g.fillStyle=\"rgba(\"+c+\",1)\",g.arc(e,e,e/5*3,0,2*Math.PI,!1),g.fill(),g.lineWidth=e/5*4,g.stroke(),a.b[d]=g.getImageData(0,0,b,b));return f}\nBq.prototype.f=function(a){var b,c,d=a.Db(),e,f,g;b=this.c[d];b||(10>d?(b=Cq(this,28,\"118,209,0\"),e={x:11,y:18}):25>d?(b=Cq(this,38,\"255,105,0\"),e={x:13,y:23}):50>d?(b=Cq(this,38,\"240,60,0\"),e={x:13,y:23}):100>d?(b=Cq(this,38,\"181,0,21\"),e={x:13,y:23}):1E3>d?(b=Cq(this,48,\"181,0,21\"),e={x:15,y:28}):(b=Cq(this,66,\"181,0,21\"),e={x:20,y:38}),c=e,e=b.width,f=b.getContext(\"2d\"),f.fillStyle=\"#FFFFFF\",g=11*this.a,f.font=\"bold \"+g+\"px Arial\",g=c.x*this.a,c=c.y*this.a,f.fillText(d,g,c),b=new ri(b,{anchor:{x:e/\n2,y:e/2}}),this.c[d]=b);d=new xi(a.getPosition(),{icon:b,min:a.f(),max:a.m()});d.g(a);return d};Bq.prototype.getClusterPresentation=Bq.prototype.f;Bq.prototype.g=function(a){var b=new xi(a.getPosition(),{icon:this.i,min:a.f()});b.g(a);return b};Bq.prototype.getNoisePresentation=Bq.prototype.g;function Dq(a){wq.call(this,a);a=this.g;if(a.projection!==ih)throw new C(Dq,0,\"Other projection than mercator not supported yet\");this.j=a.projection;this.f=a.eps;this.s=a.minWeight;this.m=new jh(this.j);(new Lh).md(\"cluster\",\"H.clustering.dynamicgrid.worker\");this.i=z(this.i,this);this.l=z(this.l,this)}v(Dq,wq);Dq.prototype.ah=function(a,b){this.o=a;this.v=nb(b)};\nDq.prototype.Af=function(a,b){var c,d,e,f;c=this.c;var g=this.o,h=this.v||0;d=!c||!(c.zoom===h&&c.b.pa(g));var k=yq;if(g&&(this.b||d)){c&&3>c.state&&c.cancel();this.b=!1;c=this.f;var l;c>=128*tb(2,h)?f=Eq:(d=this.m,d.Ja(h),e=d.geoToPixel(g.sb()),f=d.geoToPixel(g.qb()),e.y-=c,f.y+=c,e=d.a(e),l=d.a(f),f=new G(e.lat,e.lng,l.lat,l.lng),c=d.Aa(c,0).lng+180,f=f.a(e.lat,e.lng-c,l.lat,e.lng).a(e.lat,l.lng,l.lat,l.lng+c));c=f;e=this.a;f=[];for(d=e.length;d--;)c.Vc(e[d])&&f.push(e[d]);0<f.length?(this.c=new Fq(g,\nh,f,this.f,this.s,this.j!==ih,a,b),this.c.then(this.i,this.l),k=this.c):a(zq)}return k};Dq.prototype.i=function(a){qa(a)||(a=new w.Uint32Array(a));this.c.g(Gq(this,a))};Dq.prototype.l=function(a){ra(a)&&this.c.f(a)};var Eq=new G(90,-180,-90,180);\nfunction Gq(a,b){for(var c=0,d=b[c++],e=Array(d),f=0,g=[],h=b.length,k=a.c.a,l=a.c.zoom;d--;)e[f++]=new vq(k[b[c++]],l);for(;c<h;){var d=b[c++],f=k[b[c]],m=a.m,n=void 0,q=a.f,u=void 0,n=void 0;m.Ja(a.c.zoom);n=m.geoToPixel(f);u=m.Aa(n.x-q,n.y-q);n=m.Aa(n.x+q,n.y+q);f=new G(u.lat,u.lng,n.lat,n.lng);for(f=new uq(f.sb(),f.qb(),l);d--;)f.Qc(k[b[c++]]);g.push(f)}return{clusters:g,noisePoints:e}}Dq.prototype.D=function(){Dq.u.D.call(this)};\nfunction Fq(a,b,c,d,e,f,g,h){this.b=a;this.zoom=b;this.a=c;this.g=g;this.f=h;a=c.length;g=3*a;h=new (w.Float64Array||Array)(g);for(var k;a--;)k=c[a],h[--g]=k.lat,h[--g]=k.lng,h[--g]=k.wt;td.call(this,\"cluster\",{message:[h,d,e,b,f]},void 0)}v(Fq,Nh);function Hq(a,b,c){this.b=a;this.a=b;this.g=c}r(\"H.clustering.fastgrid.NoisePoint\",Hq);Hq.prototype.getPosition=function(){this.c||(this.c=this.b.Aa(this.a[1],this.a[0],1));return this.c};Hq.prototype.getPosition=Hq.prototype.getPosition;Hq.prototype.Db=function(){return this.a.a};Hq.prototype.getWeight=Hq.prototype.Db;Hq.prototype.l=Ce;Hq.prototype.isCluster=Hq.prototype.l;Hq.prototype.f=function(){return this.g-this.b.c};Hq.prototype.getMinZoom=Hq.prototype.f;Hq.prototype.getData=function(){return this.a.data};\nHq.prototype.getData=Hq.prototype.getData;function Iq(a,b,c,d){this.g=a;this.b=b;this.B=c;this.F=d;this.v=ya(this.v,this);this.o=ya(this.o,this)}r(\"H.clustering.fastgrid.Cluster\",Iq);Iq.prototype.getPosition=function(){this.c||(this.c=this.g.Aa(this.b.Tc,this.b.Uc,this.b.gb));return this.c};Iq.prototype.getPosition=Iq.prototype.getPosition;Iq.prototype.Db=function(){return this.b.gb};Iq.prototype.getWeight=Iq.prototype.Db;Iq.prototype.l=Be;Iq.prototype.isCluster=Iq.prototype.l;\nIq.prototype.f=function(){return this.B?this.B-this.g.c:-1/0};Iq.prototype.getMinZoom=Iq.prototype.f;Iq.prototype.m=function(){return this.F-this.g.c};Iq.prototype.getMaxZoom=Iq.prototype.m;Iq.prototype.S=function(){this.a||(this.a=Xe(this.g.Aa(this.b.a,this.b.f,1),this.g.Aa(this.b.b,this.b.c,1),!0));return this.a};Iq.prototype.getBounds=Iq.prototype.S;Iq.prototype.j=function(a){this.s=a;Jq(this.b,this.v)};Iq.prototype.forEachEntry=Iq.prototype.j;\nIq.prototype.v=function(a,b){var c=!1,d,e,f;a.gb>=this.g.j&&a!==this.b&&a.gb!==this.b.gb&&(this.s(new Iq(this.g,a,0,b)),c=!0);if(!c&&(d=a.entries))for(e=d.length,f=0;f<e;f++)this.s(new Hq(this.g,d[f],b));return c};Iq.prototype.i=function(a){this.A=a;Jq(this.b,this.o)};Iq.prototype.forEachDataPoint=Iq.prototype.i;Iq.prototype.o=function(a,b){var c,d,e;if(c=a.entries)for(d=c.length,e=0;e<d;e++)this.A(new Hq(this.g,c[e],b));return!1};function Kq(a,b,c,d,e,f){this.i=b;a&&(this.g=a,b&1?(c=a[8],e=a[5]):(c=a[7],e=a[8]),b&2?(d=a[9],f=a[6]):(d=a[4],f=a[9]));this[7]=c;this[5]=e;this[8]=(c+e)/2;this[4]=d;this[6]=f;this[9]=(d+f)/2}p=Kq.prototype;p.oc=0;function Lq(a,b){return a[b]||(++a.oc,a[b]=new Kq(a,b))}p.removeChild=function(a){var b=a.i;this[b]===a&&(delete this[b],delete a.g,--this.oc)};function Jq(a,b){for(var c=0,d=a;d=d.g;)++c;Mq(a,b,Lb,c)}\nfunction Mq(a,b,c,d){var e,f;if(!b(a,d)&&c--)for(++d,e=0;4>e;e++)(f=a[e])&&Mq(f,b,c,d)}p.Tc=0;p.Uc=0;p.gb=0;function Nq(a){this.b=a||10;this.a=null;Oq(this)}function Oq(a){a.head=a.a=new Kq(null,NaN,0,0,4294967296,4294967296)}function Pq(a,b){var c,d;for(c=0;4>c;c++)if(d=b[c])Pq(a,d),delete b[c];delete b.g;delete b.entries}function Qq(a,b){var c=a.head,d,e;if(b){if(d=b,d!==c)for(c=d;d=d.g;)if(d.entries||1<d.oc)c=d}else for(;!c.entries&&2>(e=c.oc);)if(e)c=d;else break;a.head=c}\nfunction Rq(a,b,c,d,e,f,g){var h;h=b.entries;var k;f?b.oc?h=Rq(a,Lq(b,c>=b[8]|(d>=b[9])<<1),c,d,e,f-1,g):h?(h=h[0],k=Lq(b,h[1]>=b[8]|(h[0]>=b[9])<<1),k.entries=b.entries,k.Tc=b.Tc,k.Uc=b.Uc,k.gb=b.gb,k.a=b.a,k.f=b.f,k.b=b.b,k.c=b.c,delete b.entries,h.node=k,Qq(a,k),h=Rq(a,Lq(b,c>=b[8]|(d>=b[9])<<1),c,d,e,f-1,g)):(f=h=new Sq(c,d,e,g),(b.entries||(b.entries=[])).push(f),Qq(a,b)):(h||Qq(a,b),a=h=new Sq(c,d,e,g),(b.entries||(b.entries=[])).push(a));b.Tc+=c*e;b.Uc+=d*e;b.gb+=e;b.a===A?(b.a=b.b=c,b.f=b.c=\nd):(c<b.a?b.a=c:c>b.b&&(b.b=c),d<b.f?b.f=d:d>b.c&&(b.c=d));return h}function Sq(a,b,c,d){this[0]=b;this[1]=a;this.a=c;this.data=d};function Tq(a){wq.call(this,a);a=this.g;this.l=a.projection;this.m=a.min;this.f=a.max;this.j=a.minWeight;this.c=7-nb(rb(mb(1,a.eps))/Cb);this.i=new Nq(mb(this.m,this.f+this.c))}v(Tq,wq);p=Tq.prototype;\np.gc=function(a){var b=0,c=a.length,d,e=new M(0,0),f=this.l,g=this.i;Tq.u.gc.call(this,a);Pq(g,g.a);for(Oq(g);b<c;b++){f.pb(d=a[b],e).scale(4294967296).floor();var h=e.x,k=e.y,l=g.a;if(!(h>=l[7]&&k>=l[4]&&h<=l[5]&&k<=l[6]))throw Error(\"Coordinates out of bounds\");Rq(g,g.a,h,k,d.wt,g.b,d.data)}this.b=!0};p.eb=function(a){Tq.u.eb.call(this,a);this.gc(this.a)};p.ug=function(a){for(var b=a.length,c=Tq.u.eb;b--;)c.call(this,a[b]);this.gc(this.a)};p.Oe=function(a){Tq.u.Oe.call(this,a);this.gc(this.a)};\np.Aa=function(a,b,c,d){return this.l.Aa(a/c/4294967296,b/c/4294967296,d)};p.Af=function(a){var b;this.b&&(b={clusters:[],noisePoints:[]},Uq(this,this.i.a,0,this.f+this.c,-1/0,b,null),this.b=!1,a(b));return yq};function Uq(a,b,c,d,e,f,g){var h=b.gb,k;g&&(g.node.gb!==h?(f.clusters.push(new Iq(a,g.node,g.depth,c-1)),g=null):e++);g||(h>=a.j?(g={node:b,depth:c},e=c):Vq(a,b,e+1,f));if(b.oc&&d--)for(c++,h=0;4>h;h++)if(k=b[h])Uq(a,k,c,d,e,f,g),g=null;g&&f.clusters.push(new Iq(a,g.node,g.depth,a.f+a.c))}\nfunction Vq(a,b,c,d){b=b.entries;var e,f;if(b)for(e=b.length,d=d.noisePoints,f=0;f<e;f++)d.push(new Hq(a,b[f],c));else for(f=0;4>f;f++)(e=a[f])&&Vq(a,e,c,d)}p.D=function(){Tq.u.D.call(this);this.i=null};function Wq(a,b,c,d){this.lat=a;this.lng=b;this.wt=c===+c?c:1;this.data=d}r(\"H.clustering.DataPoint\",Wq);Wq.prototype.lat=NaN;Wq.prototype.lng=NaN;function W(a,b){var c=b||{},d={},e=c.min||0,f=mb(e,c.max||22),g={min:e,max:f};this.min=e;this.max=f;W.u.constructor.call(this);this.B=c.pixelRatio||1;this.f=new L(g);this.f.ia(this);this.g=this.f.f;Ca(d,xq,g,c.clusteringOptions||{});d.minWeight=mb(xq.minWeight,d.minWeight);switch(d.strategy){case Xq.DYNAMICGRID:if(d.projection!==ih)throw new C(W,1,\"Unsupported projection\");this.a=new Dq(d);break;case Xq.GRID:this.a=new Aq(d);break;default:this.a=new Tq(d)}this.a.gc(a);this.i=c.theme||new Bq(this.B);\nthis.j=z(this.j,this);this.v=z(this.v,this);Yq(this)}v(W,I);r(\"H.clustering.Provider\",W);W.prototype.D=function(){W.u.D.call(this);this.g.Ea();this.f=null;this.a.J();this.i=this.l=this.a=null;w.clearTimeout(this.m)};var Xq={FASTGRID:0,GRID:1,DYNAMICGRID:2};W.Strategy=Xq;W.prototype.j=function(){this.dispatchEvent(this.o.rh);this.a.Af(this.v,sc)};function Yq(a,b,c){a.m&&w.clearTimeout(a.m);b&&a.a.ah(b,c);a.m=w.setTimeout(a.j,150)}\nW.prototype.v=function(a){this.dispatchEvent(this.o.qh);this.l=a;Zq(this)};W.prototype.U=function(a){this.a.gc(a);Yq(this)};W.prototype.setDataPoints=W.prototype.U;W.prototype.eb=function(a){this.a.eb(a);Yq(this)};W.prototype.addDataPoint=W.prototype.eb;W.prototype.A=function(a){this.a.ug(a);Yq(this)};W.prototype.addDataPoints=W.prototype.A;W.prototype.P=function(a){this.a.Oe(a);Yq(this)};W.prototype.removeDataPoint=W.prototype.P;W.prototype.s=function(){return this.i};W.prototype.getTheme=W.prototype.s;\nW.prototype.ba=function(a){this.i=a;this.l&&(this.g.Ea(),Zq(this))};W.prototype.setTheme=W.prototype.ba;function Zq(a){var b=a.l.clusters,c=a.l.noisePoints,d,e=b.length,f=c.length,g=0<e+f;for(a.g.Ea();e--;)d=b[e],a.g.V(a.i.getClusterPresentation(d));for(;f--;)b=c[f],a.g.V(a.i.getNoisePresentation(b));g&&a.dispatchEvent(a.o.la)}W.prototype.o={la:\"update\",rh:\"start\",qh:\"end\"};W.prototype.N=function(){return!0};W.prototype.providesDomMarkers=W.prototype.N;\nW.prototype.b=function(a,b,c,d){Yq(this,a,b);return this.f.b(a,b,c,d)};W.prototype.requestDomMarkers=W.prototype.b;W.prototype.K=function(){return!0};W.prototype.providesMarkers=W.prototype.K;W.prototype.c=function(a,b,c,d){Yq(this,a,b);return this.f.c(a,b,c,d)};W.prototype.requestMarkers=W.prototype.c;W.prototype.I=function(){return!0};W.prototype.providesSpatials=W.prototype.I;W.prototype.T=function(a,b,c,d){Yq(this,a,b);return this.f.o(a,b,c,d)};W.prototype.requestSpatials=W.prototype.T;\nW.prototype.O=function(a,b,c){return this.f.g(a,b,c)};W.prototype.requestSpatialsByTile=W.prototype.O;W.prototype.F=function(){return this.f.N()};W.prototype.getInvalidations=W.prototype.F;W.prototype.C=function(a,b){this.f.m(a,b)};W.prototype.invalidateObject=W.prototype.C;W.prototype.Ia=function(){return null};W.prototype.getCopyrights=W.prototype.Ia;r(\"H.clustering.buildInfo\",function(){return Bh(\"mapsjs-clustering\",\"0.16.0\",\"b369779\")});\n");